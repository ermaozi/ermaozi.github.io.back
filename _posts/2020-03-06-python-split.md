---
layout: post 
title: Python的日常应用03
categories: python的日常应用
description: 字符串切片
keywords: split
typora-root-url: ..
---

> 上回书说到，如何用python打印东西。
>
> 这次我们来玩个更有趣的！
>
> 后面几节我们会把学到的知识点结合起来写一个非常有趣的小程序！

## 字符串切片

啥？字符串是啥玩意，切片又是啥玩意？”

我相信从未接触过编程的同学，看到这个子标题后极有可能会发出这样的灵魂质问。

不急，我们慢慢道来！

### 字符串

例如在上一节中提到的`print("Hello world!")`，其中被英文引号包裹起来的东西就是字符串。

再扩大一下范围：“python语言中只要是被引号包裹起来的数据都是字符串。”我们用“str”来表示字符串。

上面提到的引号共有两种，分别是单引号与双引号。在一个字符串中单引号与双引号可以混用。

```python
s = '"str"'
print(s)
s = "'str'"
print(s)
```

上面的写法完全ok！

但是引号范围的判定标准是**非贪婪**的，也就是说它会就近匹配。

举个错误的例子：

```python
s = ""str"
```

由于第一个双引号匹配到了第二个双引号，它们两个就凑一对了。第三个双引号孤苦伶仃，它决定报复社会，让你的代码直接报错了！

同时我们还要注意一点！**python语言中涉及到的标点符号都是英文符号！如果是中文标点符号必然报错！**



### 字符串切片

我们通过上面大概了解了字符串是什么鬼，下面我们来讨论一下如何给它“切片”！

首先普及一下脚标（index）的概念。

在python中的所有有序数据类型基本上都会有脚标。

那么什么是脚标呢？

来看一下这段代码：

```python
s = "123456789"
print(s[1])
```

在有序数据类型的对象后面加一个中括号，且中括号中有一个数字便是取该脚标对应的元素。

这段代码的意思是打印字符串s中脚标为1的元素。

大家猜一下打印结果？

.

.

.

公布答案！

```python
>>> s = "123456789"
>>> print(s[1])
2
```



会不会有人猜1呢？

其实包括python在内的绝大多数编程语言的脚标都是从0开始的。

大家不妨在这段代码的基础上试着打印不同的脚标，看一下打印结果是否符合预期。

如果对于脚标的概念没有问题了，我们来说一下**字符串切片**。

先看一下这一段代码：

```python
s = "0123456789"
print(s[1:])
print(s[1:8])
print(s[1:8:2])
print(s[-1])
```

这次为了方便演示，我们定义的字符串干脆从0开始了！

大家试着手动敲一下，看看返回结果是啥？

```python
>>> s = "0123456789"
>>> print(s[1:])
123456789
>>> print(s[1:8])
1234567
>>> print(s[1:8:2])
1357
>>> print(s[-1])
9
```

我们拿到结果后先来解释一下其原理，然后再对着结果看一遍！

上面代码中的中括号不再单纯的只包一个数字了，没错，它飘了，它开始包起了冒号！

这些冒号是啥意思呢？

我们先看看最长的那个`s[1:8:2]`，这里有三个数字被两个冒号隔开。

- 第一个数字代表**起始位置**
- 第二个数字代表**结束位置**
- 第三个数字代表**步长**

解读一下就是“从脚标为1的地方开始，到脚标为8的地方结束，每隔2个字符取一次。”

所以我们取到了1357。

其中需要注意的是我们的切片是**左闭右开**的，起始位置的脚标必然能取到，结束位置则取其前一个。

例如上面代码中`s[1:8]`的返回结果是1234567。

如果我们只写了冒号不写数字也没关系，python中的切片是有默认值的！在步长为正数的情况下：

- 起始位置默认值是0
- 结束位置默认值是-1
- 步长默认值是1

这里又说到了两个很有趣的东西，脚标是-1的情况下我们会取到什么？

上面的答案已经给出了，-1是取此序列中的最后一个元素。以此扩展，-2是取倒数第二个，-3取倒数第三个……

大家可以手动敲一下。

还有一个有趣的东西，我们说的在步长为正数的情况下切片的默认值。那步长为负数的时候呢？

这里可以跟大家说一下，步长为负数的情况下，起始位置的默认值与结束位置的默认值会互换。

举个python经典面试题中的一个例子

```python
s = '0123456789'
print(s[::-1])
```

这是非常经典的一个反向打印字符串的操作！

换句话说，当步长为负数的时候则是从序列尾部向头部反向取值！

最后给大家留两个思考题跟一个动手题，希望有时间都能做一下！

### 思考题：

1. 步长能否为0？

2. 下方代码的打印结果是什么？

   ```python
   s = '0123456789'
   print(s[:7:2])
   ```

### 动手题：

1. 我有一个字符串`s = 0123456789`，如何用切片的方式打印876543？

